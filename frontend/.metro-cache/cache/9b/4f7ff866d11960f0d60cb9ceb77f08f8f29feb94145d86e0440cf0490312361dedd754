{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/StatusIndicator.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useHealthStatus = useHealthStatus;\n  exports.StatusDot = StatusDot;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[3], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://helpful-adaptation-production.up.railway.app';\n  const CHECK_INTERVAL = 5 * 60 * 1000; // 5 minutes\n\n  function useHealthStatus() {\n    const [status, setStatus] = (0, _react.useState)({\n      overall: 'checking',\n      api: 'checking',\n      database: 'checking',\n      production: 'checking',\n      db_latency_ms: null,\n      prod_latency_ms: null,\n      checked_at: ''\n    });\n    const checkHealth = (0, _react.useCallback)(async () => {\n      try {\n        const res = await fetch(`${BACKEND_URL}/api/health`);\n        if (res.ok) {\n          const data = await res.json();\n          setStatus(data);\n        } else {\n          setStatus(prev => ({\n            ...prev,\n            overall: 'degraded',\n            api: 'degraded'\n          }));\n        }\n      } catch {\n        setStatus(prev => ({\n          ...prev,\n          overall: 'down',\n          api: 'down'\n        }));\n      }\n    }, []);\n    (0, _react.useEffect)(() => {\n      checkHealth();\n      const interval = setInterval(checkHealth, CHECK_INTERVAL);\n      return () => clearInterval(interval);\n    }, [checkHealth]);\n    return {\n      status,\n      refresh: checkHealth\n    };\n  }\n  const STATUS_COLORS = {\n    up: '#4CAF50',\n    degraded: '#FF9800',\n    down: '#f44336',\n    checking: '#888'\n  };\n  function StatusDot({\n    onPress\n  }) {\n    const {\n      status\n    } = useHealthStatus();\n    const color = STATUS_COLORS[status.overall] || '#888';\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      onPress: onPress,\n      style: dotStyles.container,\n      \"data-testid\": \"status-dot\",\n      activeOpacity: 0.7,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.dot, {\n          backgroundColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.ring, {\n          borderColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  }\n  const dotStyles = StyleSheet.default.create({\n    container: {\n      width: 20,\n      height: 20,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    dot: {\n      width: 8,\n      height: 8,\n      borderRadius: 4,\n      position: 'absolute'\n    },\n    ring: {\n      width: 14,\n      height: 14,\n      borderRadius: 7,\n      borderWidth: 1.5,\n      opacity: 0.4\n    }\n  });\n});","lineCount":129,"map":[[13,2,18,0,"exports"],[13,9,18,0],[13,10,18,0,"useHealthStatus"],[13,25,18,0],[13,28,18,0,"useHealthStatus"],[13,43,18,0],[14,2,54,0,"exports"],[14,9,54,0],[14,10,54,0,"StatusDot"],[14,19,54,0],[14,22,54,0,"StatusDot"],[14,31,54,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,1,64],[16,6,1,64,"_reactNativeWebDistExportsView"],[16,36,1,64],[16,39,1,64,"require"],[16,46,1,64],[16,47,1,64,"_dependencyMap"],[16,61,1,64],[17,2,1,64],[17,6,1,64,"View"],[17,10,1,64],[17,13,1,64,"_interopDefault"],[17,28,1,64],[17,29,1,64,"_reactNativeWebDistExportsView"],[17,59,1,64],[18,2,1,64],[18,6,1,64,"_reactNativeWebDistExportsStyleSheet"],[18,42,1,64],[18,45,1,64,"require"],[18,52,1,64],[18,53,1,64,"_dependencyMap"],[18,67,1,64],[19,2,1,64],[19,6,1,64,"StyleSheet"],[19,16,1,64],[19,19,1,64,"_interopDefault"],[19,34,1,64],[19,35,1,64,"_reactNativeWebDistExportsStyleSheet"],[19,71,1,64],[20,2,1,64],[20,6,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[20,48,1,64],[20,51,1,64,"require"],[20,58,1,64],[20,59,1,64,"_dependencyMap"],[20,73,1,64],[21,2,1,64],[21,6,1,64,"TouchableOpacity"],[21,22,1,64],[21,25,1,64,"_interopDefault"],[21,40,1,64],[21,41,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[21,83,1,64],[22,2,1,64],[22,6,1,64,"_reactJsxDevRuntime"],[22,25,1,64],[22,28,1,64,"require"],[22,35,1,64],[22,36,1,64,"_dependencyMap"],[22,50,1,64],[23,2,5,0],[23,8,5,6,"BACKEND_URL"],[23,19,5,17],[23,22,5,20,"process"],[23,29,5,27],[23,30,5,28,"env"],[23,33,5,31],[23,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[23,57,5,55],[23,61,5,59],[23,115,5,113],[24,2,6,0],[24,8,6,6,"CHECK_INTERVAL"],[24,22,6,20],[24,25,6,23],[24,26,6,24],[24,29,6,27],[24,31,6,29],[24,34,6,32],[24,38,6,36],[24,39,6,37],[24,40,6,38],[26,2,18,7],[26,11,18,16,"useHealthStatus"],[26,26,18,31,"useHealthStatus"],[26,27,18,31],[26,29,18,34],[27,4,19,2],[27,10,19,8],[27,11,19,9,"status"],[27,17,19,15],[27,19,19,17,"setStatus"],[27,28,19,26],[27,29,19,27],[27,32,19,30],[27,36,19,30,"useState"],[27,42,19,38],[27,43,19,38,"useState"],[27,51,19,38],[27,53,19,53],[28,6,20,4,"overall"],[28,13,20,11],[28,15,20,13],[28,25,20,23],[29,6,20,25,"api"],[29,9,20,28],[29,11,20,30],[29,21,20,40],[30,6,20,42,"database"],[30,14,20,50],[30,16,20,52],[30,26,20,62],[31,6,21,4,"production"],[31,16,21,14],[31,18,21,16],[31,28,21,26],[32,6,21,28,"db_latency_ms"],[32,19,21,41],[32,21,21,43],[32,25,21,47],[33,6,21,49,"prod_latency_ms"],[33,21,21,64],[33,23,21,66],[33,27,21,70],[34,6,21,72,"checked_at"],[34,16,21,82],[34,18,21,84],[35,4,22,2],[35,5,22,3],[35,6,22,4],[36,4,24,2],[36,10,24,8,"checkHealth"],[36,21,24,19],[36,24,24,22],[36,28,24,22,"useCallback"],[36,34,24,33],[36,35,24,33,"useCallback"],[36,46,24,33],[36,48,24,34],[36,60,24,46],[37,6,25,4],[37,10,25,8],[38,8,26,6],[38,14,26,12,"res"],[38,17,26,15],[38,20,26,18],[38,26,26,24,"fetch"],[38,31,26,29],[38,32,26,30],[38,35,26,33,"BACKEND_URL"],[38,46,26,44],[38,59,26,57],[38,60,26,58],[39,8,27,6],[39,12,27,10,"res"],[39,15,27,13],[39,16,27,14,"ok"],[39,18,27,16],[39,20,27,18],[40,10,28,8],[40,16,28,14,"data"],[40,20,28,18],[40,23,28,21],[40,29,28,27,"res"],[40,32,28,30],[40,33,28,31,"json"],[40,37,28,35],[40,38,28,36],[40,39,28,37],[41,10,29,8,"setStatus"],[41,19,29,17],[41,20,29,18,"data"],[41,24,29,22],[41,25,29,23],[42,8,30,6],[42,9,30,7],[42,15,30,13],[43,10,31,8,"setStatus"],[43,19,31,17],[43,20,31,18,"prev"],[43,24,31,22],[43,29,31,27],[44,12,31,29],[44,15,31,32,"prev"],[44,19,31,36],[45,12,31,38,"overall"],[45,19,31,45],[45,21,31,47],[45,31,31,57],[46,12,31,59,"api"],[46,15,31,62],[46,17,31,64],[47,10,31,75],[47,11,31,76],[47,12,31,77],[47,13,31,78],[48,8,32,6],[49,6,33,4],[49,7,33,5],[49,8,33,6],[49,14,33,12],[50,8,34,6,"setStatus"],[50,17,34,15],[50,18,34,16,"prev"],[50,22,34,20],[50,27,34,25],[51,10,34,27],[51,13,34,30,"prev"],[51,17,34,34],[52,10,34,36,"overall"],[52,17,34,43],[52,19,34,45],[52,25,34,51],[53,10,34,53,"api"],[53,13,34,56],[53,15,34,58],[54,8,34,65],[54,9,34,66],[54,10,34,67],[54,11,34,68],[55,6,35,4],[56,4,36,2],[56,5,36,3],[56,7,36,5],[56,9,36,7],[56,10,36,8],[57,4,38,2],[57,8,38,2,"useEffect"],[57,14,38,11],[57,15,38,11,"useEffect"],[57,24,38,11],[57,26,38,12],[57,32,38,18],[58,6,39,4,"checkHealth"],[58,17,39,15],[58,18,39,16],[58,19,39,17],[59,6,40,4],[59,12,40,10,"interval"],[59,20,40,18],[59,23,40,21,"setInterval"],[59,34,40,32],[59,35,40,33,"checkHealth"],[59,46,40,44],[59,48,40,46,"CHECK_INTERVAL"],[59,62,40,60],[59,63,40,61],[60,6,41,4],[60,13,41,11],[60,19,41,17,"clearInterval"],[60,32,41,30],[60,33,41,31,"interval"],[60,41,41,39],[60,42,41,40],[61,4,42,2],[61,5,42,3],[61,7,42,5],[61,8,42,6,"checkHealth"],[61,19,42,17],[61,20,42,18],[61,21,42,19],[62,4,44,2],[62,11,44,9],[63,6,44,11,"status"],[63,12,44,17],[64,6,44,19,"refresh"],[64,13,44,26],[64,15,44,28,"checkHealth"],[65,4,44,40],[65,5,44,41],[66,2,45,0],[67,2,47,0],[67,8,47,6,"STATUS_COLORS"],[67,21,47,43],[67,24,47,46],[68,4,48,2,"up"],[68,6,48,4],[68,8,48,6],[68,17,48,15],[69,4,49,2,"degraded"],[69,12,49,10],[69,14,49,12],[69,23,49,21],[70,4,50,2,"down"],[70,8,50,6],[70,10,50,8],[70,19,50,17],[71,4,51,2,"checking"],[71,12,51,10],[71,14,51,12],[72,2,52,0],[72,3,52,1],[73,2,54,7],[73,11,54,16,"StatusDot"],[73,20,54,25,"StatusDot"],[73,21,54,26],[74,4,54,28,"onPress"],[75,2,54,62],[75,3,54,63],[75,5,54,65],[76,4,55,2],[76,10,55,8],[77,6,55,10,"status"],[78,4,55,17],[78,5,55,18],[78,8,55,21,"useHealthStatus"],[78,23,55,36],[78,24,55,37],[78,25,55,38],[79,4,56,2],[79,10,56,8,"color"],[79,15,56,13],[79,18,56,16,"STATUS_COLORS"],[79,31,56,29],[79,32,56,30,"status"],[79,38,56,36],[79,39,56,37,"overall"],[79,46,56,44],[79,47,56,45],[79,51,56,49],[79,57,56,55],[80,4,58,2],[80,24,59,4],[80,28,59,4,"_reactJsxDevRuntime"],[80,47,59,4],[80,48,59,4,"jsxDEV"],[80,54,59,4],[80,56,59,5,"TouchableOpacity"],[80,72,59,21],[80,73,59,21,"default"],[80,80,59,21],[81,6,60,6,"onPress"],[81,13,60,13],[81,15,60,15,"onPress"],[81,22,60,23],[82,6,61,6,"style"],[82,11,61,11],[82,13,61,13,"dotStyles"],[82,22,61,22],[82,23,61,23,"container"],[82,32,61,33],[83,6,62,6],[83,21,62,18],[83,33,62,30],[84,6,63,6,"activeOpacity"],[84,19,63,19],[84,21,63,21],[84,24,63,25],[85,6,63,25,"children"],[85,14,63,25],[85,30,65,6],[85,34,65,6,"_reactJsxDevRuntime"],[85,53,65,6],[85,54,65,6,"jsxDEV"],[85,60,65,6],[85,62,65,7,"View"],[85,66,65,11],[85,67,65,11,"default"],[85,74,65,11],[86,8,65,12,"style"],[86,13,65,17],[86,15,65,19],[86,16,65,20,"dotStyles"],[86,25,65,29],[86,26,65,30,"dot"],[86,29,65,33],[86,31,65,35],[87,10,65,37,"backgroundColor"],[87,25,65,52],[87,27,65,54,"color"],[88,8,65,60],[88,9,65,61],[89,6,65,63],[90,8,65,63,"fileName"],[90,16,65,63],[90,18,65,63,"_jsxFileName"],[90,30,65,63],[91,8,65,63,"lineNumber"],[91,18,65,63],[92,8,65,63,"columnNumber"],[92,20,65,63],[93,6,65,63],[93,13,65,65],[93,14,65,66],[93,29,66,6],[93,33,66,6,"_reactJsxDevRuntime"],[93,52,66,6],[93,53,66,6,"jsxDEV"],[93,59,66,6],[93,61,66,7,"View"],[93,65,66,11],[93,66,66,11,"default"],[93,73,66,11],[94,8,66,12,"style"],[94,13,66,17],[94,15,66,19],[94,16,66,20,"dotStyles"],[94,25,66,29],[94,26,66,30,"ring"],[94,30,66,34],[94,32,66,36],[95,10,66,38,"borderColor"],[95,21,66,49],[95,23,66,51,"color"],[96,8,66,57],[96,9,66,58],[97,6,66,60],[98,8,66,60,"fileName"],[98,16,66,60],[98,18,66,60,"_jsxFileName"],[98,30,66,60],[99,8,66,60,"lineNumber"],[99,18,66,60],[100,8,66,60,"columnNumber"],[100,20,66,60],[101,6,66,60],[101,13,66,62],[101,14,66,63],[102,4,66,63],[103,6,66,63,"fileName"],[103,14,66,63],[103,16,66,63,"_jsxFileName"],[103,28,66,63],[104,6,66,63,"lineNumber"],[104,16,66,63],[105,6,66,63,"columnNumber"],[105,18,66,63],[106,4,66,63],[106,11,67,22],[106,12,67,23],[107,2,69,0],[108,2,71,0],[108,8,71,6,"dotStyles"],[108,17,71,15],[108,20,71,18,"StyleSheet"],[108,30,71,28],[108,31,71,28,"default"],[108,38,71,28],[108,39,71,29,"create"],[108,45,71,35],[108,46,71,36],[109,4,72,2,"container"],[109,13,72,11],[109,15,72,13],[110,6,72,15,"width"],[110,11,72,20],[110,13,72,22],[110,15,72,24],[111,6,72,26,"height"],[111,12,72,32],[111,14,72,34],[111,16,72,36],[112,6,72,38,"justifyContent"],[112,20,72,52],[112,22,72,54],[112,30,72,62],[113,6,72,64,"alignItems"],[113,16,72,74],[113,18,72,76],[114,4,72,85],[114,5,72,86],[115,4,73,2,"dot"],[115,7,73,5],[115,9,73,7],[116,6,73,9,"width"],[116,11,73,14],[116,13,73,16],[116,14,73,17],[117,6,73,19,"height"],[117,12,73,25],[117,14,73,27],[117,15,73,28],[118,6,73,30,"borderRadius"],[118,18,73,42],[118,20,73,44],[118,21,73,45],[119,6,73,47,"position"],[119,14,73,55],[119,16,73,57],[120,4,73,68],[120,5,73,69],[121,4,74,2,"ring"],[121,8,74,6],[121,10,74,8],[122,6,74,10,"width"],[122,11,74,15],[122,13,74,17],[122,15,74,19],[123,6,74,21,"height"],[123,12,74,27],[123,14,74,29],[123,16,74,31],[124,6,74,33,"borderRadius"],[124,18,74,45],[124,20,74,47],[124,21,74,48],[125,6,74,50,"borderWidth"],[125,17,74,61],[125,19,74,63],[125,22,74,66],[126,6,74,68,"opacity"],[126,13,74,75],[126,15,74,77],[127,4,74,81],[128,2,75,0],[128,3,75,1],[128,4,75,2],[129,0,75,3],[129,3]],"functionMap":{"names":["<global>","useHealthStatus","checkHealth","setStatus$argument_0","useEffect$argument_0","<anonymous>","StatusDot"],"mappings":"AAA;OCiB;kCCM;kBCO,2DD;gBCG,mDD;GDE;YGE;WCG,6BD;GHC;CDG;OMS;CNe"},"hasCjsExports":false},"type":"js/module"}]}
{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/StatusIndicator.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useHealthStatus = useHealthStatus;\n  exports.StatusDot = StatusDot;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[4], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://helpful-adaptation-production.up.railway.app';\n  const CHECK_INTERVAL = 5 * 60 * 1000; // 5 minutes\n\n  function useHealthStatus() {\n    _s();\n    const [status, setStatus] = (0, _react.useState)({\n      overall: 'checking',\n      api: 'checking',\n      database: 'checking',\n      production: 'checking',\n      db_latency_ms: null,\n      prod_latency_ms: null,\n      checked_at: ''\n    });\n    const checkHealth = (0, _react.useCallback)(async () => {\n      try {\n        const res = await fetch(`${BACKEND_URL}/api/health`);\n        if (res.ok) {\n          const data = await res.json();\n          setStatus(data);\n        } else {\n          setStatus(prev => Object.assign({}, prev, {\n            overall: 'degraded',\n            api: 'degraded'\n          }));\n        }\n      } catch {\n        setStatus(prev => Object.assign({}, prev, {\n          overall: 'down',\n          api: 'down'\n        }));\n      }\n    }, []);\n    (0, _react.useEffect)(() => {\n      checkHealth();\n      const interval = setInterval(checkHealth, CHECK_INTERVAL);\n      return () => clearInterval(interval);\n    }, [checkHealth]);\n    return {\n      status,\n      refresh: checkHealth\n    };\n  }\n  _s(useHealthStatus, \"sAjaGhFeHkAJzPXPPswIsn0nbpo=\");\n  const STATUS_COLORS = {\n    up: '#4CAF50',\n    degraded: '#FF9800',\n    down: '#f44336',\n    checking: '#888'\n  };\n  function StatusDot({\n    onPress\n  }) {\n    _s2();\n    const {\n      status\n    } = useHealthStatus();\n    const color = STATUS_COLORS[status.overall] || '#888';\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      onPress: onPress,\n      style: dotStyles.container,\n      \"data-testid\": \"status-dot\",\n      activeOpacity: 0.7,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.dot, {\n          backgroundColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.ring, {\n          borderColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  }\n  _s2(StatusDot, \"d9xu8t8K3AxHVtdOI4XaN08tahA=\", false, function () {\n    return [useHealthStatus];\n  });\n  _c = StatusDot;\n  const dotStyles = StyleSheet.default.create({\n    container: {\n      width: 20,\n      height: 20,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    dot: {\n      width: 8,\n      height: 8,\n      borderRadius: 4,\n      position: 'absolute'\n    },\n    ring: {\n      width: 14,\n      height: 14,\n      borderRadius: 7,\n      borderWidth: 1.5,\n      opacity: 0.4\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"StatusDot\");\n});","lineCount":139,"map":[[15,2,18,0,"exports"],[15,9,18,0],[15,10,18,0,"useHealthStatus"],[15,25,18,0],[15,28,18,0,"useHealthStatus"],[15,43,18,0],[16,2,54,0,"exports"],[16,9,54,0],[16,10,54,0,"StatusDot"],[16,19,54,0],[16,22,54,0,"StatusDot"],[16,31,54,0],[17,2,69,1],[17,6,69,1,"_expoVirtualEnv"],[17,21,69,1],[17,24,69,1,"require"],[17,31,69,1],[17,32,69,1,"_dependencyMap"],[17,46,69,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,64],[19,6,1,64,"_reactNativeWebDistExportsView"],[19,36,1,64],[19,39,1,64,"require"],[19,46,1,64],[19,47,1,64,"_dependencyMap"],[19,61,1,64],[20,2,1,64],[20,6,1,64,"View"],[20,10,1,64],[20,13,1,64,"_interopDefault"],[20,28,1,64],[20,29,1,64,"_reactNativeWebDistExportsView"],[20,59,1,64],[21,2,1,64],[21,6,1,64,"_reactNativeWebDistExportsStyleSheet"],[21,42,1,64],[21,45,1,64,"require"],[21,52,1,64],[21,53,1,64,"_dependencyMap"],[21,67,1,64],[22,2,1,64],[22,6,1,64,"StyleSheet"],[22,16,1,64],[22,19,1,64,"_interopDefault"],[22,34,1,64],[22,35,1,64,"_reactNativeWebDistExportsStyleSheet"],[22,71,1,64],[23,2,1,64],[23,6,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[23,48,1,64],[23,51,1,64,"require"],[23,58,1,64],[23,59,1,64,"_dependencyMap"],[23,73,1,64],[24,2,1,64],[24,6,1,64,"TouchableOpacity"],[24,22,1,64],[24,25,1,64,"_interopDefault"],[24,40,1,64],[24,41,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[24,83,1,64],[25,2,1,64],[25,6,1,64,"_reactJsxDevRuntime"],[25,25,1,64],[25,28,1,64,"require"],[25,35,1,64],[25,36,1,64,"_dependencyMap"],[25,50,1,64],[26,2,5,0],[26,8,5,6,"BACKEND_URL"],[26,19,5,17],[26,22,5,20,"_expoVirtualEnv"],[26,37,5,20],[26,38,5,20,"env"],[26,41,5,20],[26,42,5,20,"EXPO_PUBLIC_BACKEND_URL"],[26,65,5,20],[26,69,5,59],[26,123,5,113],[27,2,6,0],[27,8,6,6,"CHECK_INTERVAL"],[27,22,6,20],[27,25,6,23],[27,26,6,24],[27,29,6,27],[27,31,6,29],[27,34,6,32],[27,38,6,36],[27,39,6,37],[27,40,6,38],[29,2,18,7],[29,11,18,16,"useHealthStatus"],[29,26,18,31,"useHealthStatus"],[29,27,18,31],[29,29,18,34],[30,4,18,34,"_s"],[30,6,18,34],[31,4,19,2],[31,10,19,8],[31,11,19,9,"status"],[31,17,19,15],[31,19,19,17,"setStatus"],[31,28,19,26],[31,29,19,27],[31,32,19,30],[31,36,19,30,"useState"],[31,42,19,38],[31,43,19,38,"useState"],[31,51,19,38],[31,53,19,53],[32,6,20,4,"overall"],[32,13,20,11],[32,15,20,13],[32,25,20,23],[33,6,20,25,"api"],[33,9,20,28],[33,11,20,30],[33,21,20,40],[34,6,20,42,"database"],[34,14,20,50],[34,16,20,52],[34,26,20,62],[35,6,21,4,"production"],[35,16,21,14],[35,18,21,16],[35,28,21,26],[36,6,21,28,"db_latency_ms"],[36,19,21,41],[36,21,21,43],[36,25,21,47],[37,6,21,49,"prod_latency_ms"],[37,21,21,64],[37,23,21,66],[37,27,21,70],[38,6,21,72,"checked_at"],[38,16,21,82],[38,18,21,84],[39,4,22,2],[39,5,22,3],[39,6,22,4],[40,4,24,2],[40,10,24,8,"checkHealth"],[40,21,24,19],[40,24,24,22],[40,28,24,22,"useCallback"],[40,34,24,33],[40,35,24,33,"useCallback"],[40,46,24,33],[40,48,24,34],[40,60,24,46],[41,6,25,4],[41,10,25,8],[42,8,26,6],[42,14,26,12,"res"],[42,17,26,15],[42,20,26,18],[42,26,26,24,"fetch"],[42,31,26,29],[42,32,26,30],[42,35,26,33,"BACKEND_URL"],[42,46,26,44],[42,59,26,57],[42,60,26,58],[43,8,27,6],[43,12,27,10,"res"],[43,15,27,13],[43,16,27,14,"ok"],[43,18,27,16],[43,20,27,18],[44,10,28,8],[44,16,28,14,"data"],[44,20,28,18],[44,23,28,21],[44,29,28,27,"res"],[44,32,28,30],[44,33,28,31,"json"],[44,37,28,35],[44,38,28,36],[44,39,28,37],[45,10,29,8,"setStatus"],[45,19,29,17],[45,20,29,18,"data"],[45,24,29,22],[45,25,29,23],[46,8,30,6],[46,9,30,7],[46,15,30,13],[47,10,31,8,"setStatus"],[47,19,31,17],[47,20,31,18,"prev"],[47,24,31,22],[47,28,31,22,"Object"],[47,34,31,22],[47,35,31,22,"assign"],[47,41,31,22],[47,46,31,32,"prev"],[47,50,31,36],[48,12,31,38,"overall"],[48,19,31,45],[48,21,31,47],[48,31,31,57],[49,12,31,59,"api"],[49,15,31,62],[49,17,31,64],[50,10,31,74],[50,12,31,77],[50,13,31,78],[51,8,32,6],[52,6,33,4],[52,7,33,5],[52,8,33,6],[52,14,33,12],[53,8,34,6,"setStatus"],[53,17,34,15],[53,18,34,16,"prev"],[53,22,34,20],[53,26,34,20,"Object"],[53,32,34,20],[53,33,34,20,"assign"],[53,39,34,20],[53,44,34,30,"prev"],[53,48,34,34],[54,10,34,36,"overall"],[54,17,34,43],[54,19,34,45],[54,25,34,51],[55,10,34,53,"api"],[55,13,34,56],[55,15,34,58],[56,8,34,64],[56,10,34,67],[56,11,34,68],[57,6,35,4],[58,4,36,2],[58,5,36,3],[58,7,36,5],[58,9,36,7],[58,10,36,8],[59,4,38,2],[59,8,38,2,"useEffect"],[59,14,38,11],[59,15,38,11,"useEffect"],[59,24,38,11],[59,26,38,12],[59,32,38,18],[60,6,39,4,"checkHealth"],[60,17,39,15],[60,18,39,16],[60,19,39,17],[61,6,40,4],[61,12,40,10,"interval"],[61,20,40,18],[61,23,40,21,"setInterval"],[61,34,40,32],[61,35,40,33,"checkHealth"],[61,46,40,44],[61,48,40,46,"CHECK_INTERVAL"],[61,62,40,60],[61,63,40,61],[62,6,41,4],[62,13,41,11],[62,19,41,17,"clearInterval"],[62,32,41,30],[62,33,41,31,"interval"],[62,41,41,39],[62,42,41,40],[63,4,42,2],[63,5,42,3],[63,7,42,5],[63,8,42,6,"checkHealth"],[63,19,42,17],[63,20,42,18],[63,21,42,19],[64,4,44,2],[64,11,44,9],[65,6,44,11,"status"],[65,12,44,17],[66,6,44,19,"refresh"],[66,13,44,26],[66,15,44,28,"checkHealth"],[67,4,44,40],[67,5,44,41],[68,2,45,0],[69,2,45,1,"_s"],[69,4,45,1],[69,5,18,16,"useHealthStatus"],[69,20,18,31],[70,2,47,0],[70,8,47,6,"STATUS_COLORS"],[70,21,47,43],[70,24,47,46],[71,4,48,2,"up"],[71,6,48,4],[71,8,48,6],[71,17,48,15],[72,4,49,2,"degraded"],[72,12,49,10],[72,14,49,12],[72,23,49,21],[73,4,50,2,"down"],[73,8,50,6],[73,10,50,8],[73,19,50,17],[74,4,51,2,"checking"],[74,12,51,10],[74,14,51,12],[75,2,52,0],[75,3,52,1],[76,2,54,7],[76,11,54,16,"StatusDot"],[76,20,54,25,"StatusDot"],[76,21,54,26],[77,4,54,28,"onPress"],[78,2,54,62],[78,3,54,63],[78,5,54,65],[79,4,54,65,"_s2"],[79,7,54,65],[80,4,55,2],[80,10,55,8],[81,6,55,10,"status"],[82,4,55,17],[82,5,55,18],[82,8,55,21,"useHealthStatus"],[82,23,55,36],[82,24,55,37],[82,25,55,38],[83,4,56,2],[83,10,56,8,"color"],[83,15,56,13],[83,18,56,16,"STATUS_COLORS"],[83,31,56,29],[83,32,56,30,"status"],[83,38,56,36],[83,39,56,37,"overall"],[83,46,56,44],[83,47,56,45],[83,51,56,49],[83,57,56,55],[84,4,58,2],[84,24,59,4],[84,28,59,4,"_reactJsxDevRuntime"],[84,47,59,4],[84,48,59,4,"jsxDEV"],[84,54,59,4],[84,56,59,5,"TouchableOpacity"],[84,72,59,21],[84,73,59,21,"default"],[84,80,59,21],[85,6,60,6,"onPress"],[85,13,60,13],[85,15,60,15,"onPress"],[85,22,60,23],[86,6,61,6,"style"],[86,11,61,11],[86,13,61,13,"dotStyles"],[86,22,61,22],[86,23,61,23,"container"],[86,32,61,33],[87,6,62,6],[87,21,62,18],[87,33,62,30],[88,6,63,6,"activeOpacity"],[88,19,63,19],[88,21,63,21],[88,24,63,25],[89,6,63,25,"children"],[89,14,63,25],[89,30,65,6],[89,34,65,6,"_reactJsxDevRuntime"],[89,53,65,6],[89,54,65,6,"jsxDEV"],[89,60,65,6],[89,62,65,7,"View"],[89,66,65,11],[89,67,65,11,"default"],[89,74,65,11],[90,8,65,12,"style"],[90,13,65,17],[90,15,65,19],[90,16,65,20,"dotStyles"],[90,25,65,29],[90,26,65,30,"dot"],[90,29,65,33],[90,31,65,35],[91,10,65,37,"backgroundColor"],[91,25,65,52],[91,27,65,54,"color"],[92,8,65,60],[92,9,65,61],[93,6,65,63],[94,8,65,63,"fileName"],[94,16,65,63],[94,18,65,63,"_jsxFileName"],[94,30,65,63],[95,8,65,63,"lineNumber"],[95,18,65,63],[96,8,65,63,"columnNumber"],[96,20,65,63],[97,6,65,63],[97,13,65,65],[97,14,65,66],[97,29,66,6],[97,33,66,6,"_reactJsxDevRuntime"],[97,52,66,6],[97,53,66,6,"jsxDEV"],[97,59,66,6],[97,61,66,7,"View"],[97,65,66,11],[97,66,66,11,"default"],[97,73,66,11],[98,8,66,12,"style"],[98,13,66,17],[98,15,66,19],[98,16,66,20,"dotStyles"],[98,25,66,29],[98,26,66,30,"ring"],[98,30,66,34],[98,32,66,36],[99,10,66,38,"borderColor"],[99,21,66,49],[99,23,66,51,"color"],[100,8,66,57],[100,9,66,58],[101,6,66,60],[102,8,66,60,"fileName"],[102,16,66,60],[102,18,66,60,"_jsxFileName"],[102,30,66,60],[103,8,66,60,"lineNumber"],[103,18,66,60],[104,8,66,60,"columnNumber"],[104,20,66,60],[105,6,66,60],[105,13,66,62],[105,14,66,63],[106,4,66,63],[107,6,66,63,"fileName"],[107,14,66,63],[107,16,66,63,"_jsxFileName"],[107,28,66,63],[108,6,66,63,"lineNumber"],[108,16,66,63],[109,6,66,63,"columnNumber"],[109,18,66,63],[110,4,66,63],[110,11,67,22],[110,12,67,23],[111,2,69,0],[112,2,69,1,"_s2"],[112,5,69,1],[112,6,54,16,"StatusDot"],[112,15,54,25],[113,4,54,25],[113,12,55,21,"useHealthStatus"],[113,27,55,36],[114,2,55,36],[115,2,55,36,"_c"],[115,4,55,36],[115,7,54,16,"StatusDot"],[115,16,54,25],[116,2,71,0],[116,8,71,6,"dotStyles"],[116,17,71,15],[116,20,71,18,"StyleSheet"],[116,30,71,28],[116,31,71,28,"default"],[116,38,71,28],[116,39,71,29,"create"],[116,45,71,35],[116,46,71,36],[117,4,72,2,"container"],[117,13,72,11],[117,15,72,13],[118,6,72,15,"width"],[118,11,72,20],[118,13,72,22],[118,15,72,24],[119,6,72,26,"height"],[119,12,72,32],[119,14,72,34],[119,16,72,36],[120,6,72,38,"justifyContent"],[120,20,72,52],[120,22,72,54],[120,30,72,62],[121,6,72,64,"alignItems"],[121,16,72,74],[121,18,72,76],[122,4,72,85],[122,5,72,86],[123,4,73,2,"dot"],[123,7,73,5],[123,9,73,7],[124,6,73,9,"width"],[124,11,73,14],[124,13,73,16],[124,14,73,17],[125,6,73,19,"height"],[125,12,73,25],[125,14,73,27],[125,15,73,28],[126,6,73,30,"borderRadius"],[126,18,73,42],[126,20,73,44],[126,21,73,45],[127,6,73,47,"position"],[127,14,73,55],[127,16,73,57],[128,4,73,68],[128,5,73,69],[129,4,74,2,"ring"],[129,8,74,6],[129,10,74,8],[130,6,74,10,"width"],[130,11,74,15],[130,13,74,17],[130,15,74,19],[131,6,74,21,"height"],[131,12,74,27],[131,14,74,29],[131,16,74,31],[132,6,74,33,"borderRadius"],[132,18,74,45],[132,20,74,47],[132,21,74,48],[133,6,74,50,"borderWidth"],[133,17,74,61],[133,19,74,63],[133,22,74,66],[134,6,74,68,"opacity"],[134,13,74,75],[134,15,74,77],[135,4,74,81],[136,2,75,0],[136,3,75,1],[136,4,75,2],[137,2,75,3],[137,6,75,3,"_c"],[137,8,75,3],[138,2,75,3,"$RefreshReg$"],[138,14,75,3],[138,15,75,3,"_c"],[138,17,75,3],[139,0,75,3],[139,3]],"functionMap":{"names":["<global>","useHealthStatus","checkHealth","setStatus$argument_0","useEffect$argument_0","<anonymous>","StatusDot"],"mappings":"AAA;OCiB;kCCM;kBCO,2DD;gBCG,mDD;GDE;YGE;WCG,6BD;GHC;CDG;OMS;CNe"},"hasCjsExports":false},"type":"js/module"}]}
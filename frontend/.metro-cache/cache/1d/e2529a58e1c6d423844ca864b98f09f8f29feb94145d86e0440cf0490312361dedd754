{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/StatusIndicator.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useHealthStatus = useHealthStatus;\n  exports.StatusDot = StatusDot;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[2], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[4], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://helpful-adaptation-production.up.railway.app';\n  const CHECK_INTERVAL = 5 * 60 * 1000; // 5 minutes\n\n  function useHealthStatus() {\n    _s();\n    const [status, setStatus] = (0, _react.useState)({\n      overall: 'checking',\n      api: 'checking',\n      database: 'checking',\n      production: 'checking',\n      db_latency_ms: null,\n      prod_latency_ms: null,\n      checked_at: ''\n    });\n    const checkHealth = (0, _react.useCallback)(async () => {\n      try {\n        const res = await fetch(`${BACKEND_URL}/api/health`);\n        if (res.ok) {\n          const data = await res.json();\n          setStatus(data);\n        } else {\n          setStatus(prev => ({\n            ...prev,\n            overall: 'degraded',\n            api: 'degraded'\n          }));\n        }\n      } catch {\n        setStatus(prev => ({\n          ...prev,\n          overall: 'down',\n          api: 'down'\n        }));\n      }\n    }, []);\n    (0, _react.useEffect)(() => {\n      checkHealth();\n      const interval = setInterval(checkHealth, CHECK_INTERVAL);\n      return () => clearInterval(interval);\n    }, [checkHealth]);\n    return {\n      status,\n      refresh: checkHealth\n    };\n  }\n  _s(useHealthStatus, \"sAjaGhFeHkAJzPXPPswIsn0nbpo=\");\n  const STATUS_COLORS = {\n    up: '#4CAF50',\n    degraded: '#FF9800',\n    down: '#f44336',\n    checking: '#888'\n  };\n  function StatusDot({\n    onPress\n  }) {\n    _s2();\n    const {\n      status\n    } = useHealthStatus();\n    const color = STATUS_COLORS[status.overall] || '#888';\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      onPress: onPress,\n      style: dotStyles.container,\n      \"data-testid\": \"status-dot\",\n      activeOpacity: 0.7,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.dot, {\n          backgroundColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: [dotStyles.ring, {\n          borderColor: color\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  }\n  _s2(StatusDot, \"d9xu8t8K3AxHVtdOI4XaN08tahA=\", false, function () {\n    return [useHealthStatus];\n  });\n  _c = StatusDot;\n  const dotStyles = StyleSheet.default.create({\n    container: {\n      width: 20,\n      height: 20,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    dot: {\n      width: 8,\n      height: 8,\n      borderRadius: 4,\n      position: 'absolute'\n    },\n    ring: {\n      width: 14,\n      height: 14,\n      borderRadius: 7,\n      borderWidth: 1.5,\n      opacity: 0.4\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"StatusDot\");\n});","lineCount":141,"map":[[15,2,18,0,"exports"],[15,9,18,0],[15,10,18,0,"useHealthStatus"],[15,25,18,0],[15,28,18,0,"useHealthStatus"],[15,43,18,0],[16,2,54,0,"exports"],[16,9,54,0],[16,10,54,0,"StatusDot"],[16,19,54,0],[16,22,54,0,"StatusDot"],[16,31,54,0],[17,2,69,1],[17,6,69,1,"_expoVirtualEnv"],[17,21,69,1],[17,24,69,1,"require"],[17,31,69,1],[17,32,69,1,"_dependencyMap"],[17,46,69,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,64],[19,6,1,64,"_reactNativeWebDistExportsView"],[19,36,1,64],[19,39,1,64,"require"],[19,46,1,64],[19,47,1,64,"_dependencyMap"],[19,61,1,64],[20,2,1,64],[20,6,1,64,"View"],[20,10,1,64],[20,13,1,64,"_interopDefault"],[20,28,1,64],[20,29,1,64,"_reactNativeWebDistExportsView"],[20,59,1,64],[21,2,1,64],[21,6,1,64,"_reactNativeWebDistExportsStyleSheet"],[21,42,1,64],[21,45,1,64,"require"],[21,52,1,64],[21,53,1,64,"_dependencyMap"],[21,67,1,64],[22,2,1,64],[22,6,1,64,"StyleSheet"],[22,16,1,64],[22,19,1,64,"_interopDefault"],[22,34,1,64],[22,35,1,64,"_reactNativeWebDistExportsStyleSheet"],[22,71,1,64],[23,2,1,64],[23,6,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[23,48,1,64],[23,51,1,64,"require"],[23,58,1,64],[23,59,1,64,"_dependencyMap"],[23,73,1,64],[24,2,1,64],[24,6,1,64,"TouchableOpacity"],[24,22,1,64],[24,25,1,64,"_interopDefault"],[24,40,1,64],[24,41,1,64,"_reactNativeWebDistExportsTouchableOpacity"],[24,83,1,64],[25,2,1,64],[25,6,1,64,"_reactJsxDevRuntime"],[25,25,1,64],[25,28,1,64,"require"],[25,35,1,64],[25,36,1,64,"_dependencyMap"],[25,50,1,64],[26,2,5,0],[26,8,5,6,"BACKEND_URL"],[26,19,5,17],[26,22,5,20,"_expoVirtualEnv"],[26,37,5,20],[26,38,5,20,"env"],[26,41,5,20],[26,42,5,20,"EXPO_PUBLIC_BACKEND_URL"],[26,65,5,20],[26,69,5,59],[26,123,5,113],[27,2,6,0],[27,8,6,6,"CHECK_INTERVAL"],[27,22,6,20],[27,25,6,23],[27,26,6,24],[27,29,6,27],[27,31,6,29],[27,34,6,32],[27,38,6,36],[27,39,6,37],[27,40,6,38],[29,2,18,7],[29,11,18,16,"useHealthStatus"],[29,26,18,31,"useHealthStatus"],[29,27,18,31],[29,29,18,34],[30,4,18,34,"_s"],[30,6,18,34],[31,4,19,2],[31,10,19,8],[31,11,19,9,"status"],[31,17,19,15],[31,19,19,17,"setStatus"],[31,28,19,26],[31,29,19,27],[31,32,19,30],[31,36,19,30,"useState"],[31,42,19,38],[31,43,19,38,"useState"],[31,51,19,38],[31,53,19,53],[32,6,20,4,"overall"],[32,13,20,11],[32,15,20,13],[32,25,20,23],[33,6,20,25,"api"],[33,9,20,28],[33,11,20,30],[33,21,20,40],[34,6,20,42,"database"],[34,14,20,50],[34,16,20,52],[34,26,20,62],[35,6,21,4,"production"],[35,16,21,14],[35,18,21,16],[35,28,21,26],[36,6,21,28,"db_latency_ms"],[36,19,21,41],[36,21,21,43],[36,25,21,47],[37,6,21,49,"prod_latency_ms"],[37,21,21,64],[37,23,21,66],[37,27,21,70],[38,6,21,72,"checked_at"],[38,16,21,82],[38,18,21,84],[39,4,22,2],[39,5,22,3],[39,6,22,4],[40,4,24,2],[40,10,24,8,"checkHealth"],[40,21,24,19],[40,24,24,22],[40,28,24,22,"useCallback"],[40,34,24,33],[40,35,24,33,"useCallback"],[40,46,24,33],[40,48,24,34],[40,60,24,46],[41,6,25,4],[41,10,25,8],[42,8,26,6],[42,14,26,12,"res"],[42,17,26,15],[42,20,26,18],[42,26,26,24,"fetch"],[42,31,26,29],[42,32,26,30],[42,35,26,33,"BACKEND_URL"],[42,46,26,44],[42,59,26,57],[42,60,26,58],[43,8,27,6],[43,12,27,10,"res"],[43,15,27,13],[43,16,27,14,"ok"],[43,18,27,16],[43,20,27,18],[44,10,28,8],[44,16,28,14,"data"],[44,20,28,18],[44,23,28,21],[44,29,28,27,"res"],[44,32,28,30],[44,33,28,31,"json"],[44,37,28,35],[44,38,28,36],[44,39,28,37],[45,10,29,8,"setStatus"],[45,19,29,17],[45,20,29,18,"data"],[45,24,29,22],[45,25,29,23],[46,8,30,6],[46,9,30,7],[46,15,30,13],[47,10,31,8,"setStatus"],[47,19,31,17],[47,20,31,18,"prev"],[47,24,31,22],[47,29,31,27],[48,12,31,29],[48,15,31,32,"prev"],[48,19,31,36],[49,12,31,38,"overall"],[49,19,31,45],[49,21,31,47],[49,31,31,57],[50,12,31,59,"api"],[50,15,31,62],[50,17,31,64],[51,10,31,75],[51,11,31,76],[51,12,31,77],[51,13,31,78],[52,8,32,6],[53,6,33,4],[53,7,33,5],[53,8,33,6],[53,14,33,12],[54,8,34,6,"setStatus"],[54,17,34,15],[54,18,34,16,"prev"],[54,22,34,20],[54,27,34,25],[55,10,34,27],[55,13,34,30,"prev"],[55,17,34,34],[56,10,34,36,"overall"],[56,17,34,43],[56,19,34,45],[56,25,34,51],[57,10,34,53,"api"],[57,13,34,56],[57,15,34,58],[58,8,34,65],[58,9,34,66],[58,10,34,67],[58,11,34,68],[59,6,35,4],[60,4,36,2],[60,5,36,3],[60,7,36,5],[60,9,36,7],[60,10,36,8],[61,4,38,2],[61,8,38,2,"useEffect"],[61,14,38,11],[61,15,38,11,"useEffect"],[61,24,38,11],[61,26,38,12],[61,32,38,18],[62,6,39,4,"checkHealth"],[62,17,39,15],[62,18,39,16],[62,19,39,17],[63,6,40,4],[63,12,40,10,"interval"],[63,20,40,18],[63,23,40,21,"setInterval"],[63,34,40,32],[63,35,40,33,"checkHealth"],[63,46,40,44],[63,48,40,46,"CHECK_INTERVAL"],[63,62,40,60],[63,63,40,61],[64,6,41,4],[64,13,41,11],[64,19,41,17,"clearInterval"],[64,32,41,30],[64,33,41,31,"interval"],[64,41,41,39],[64,42,41,40],[65,4,42,2],[65,5,42,3],[65,7,42,5],[65,8,42,6,"checkHealth"],[65,19,42,17],[65,20,42,18],[65,21,42,19],[66,4,44,2],[66,11,44,9],[67,6,44,11,"status"],[67,12,44,17],[68,6,44,19,"refresh"],[68,13,44,26],[68,15,44,28,"checkHealth"],[69,4,44,40],[69,5,44,41],[70,2,45,0],[71,2,45,1,"_s"],[71,4,45,1],[71,5,18,16,"useHealthStatus"],[71,20,18,31],[72,2,47,0],[72,8,47,6,"STATUS_COLORS"],[72,21,47,43],[72,24,47,46],[73,4,48,2,"up"],[73,6,48,4],[73,8,48,6],[73,17,48,15],[74,4,49,2,"degraded"],[74,12,49,10],[74,14,49,12],[74,23,49,21],[75,4,50,2,"down"],[75,8,50,6],[75,10,50,8],[75,19,50,17],[76,4,51,2,"checking"],[76,12,51,10],[76,14,51,12],[77,2,52,0],[77,3,52,1],[78,2,54,7],[78,11,54,16,"StatusDot"],[78,20,54,25,"StatusDot"],[78,21,54,26],[79,4,54,28,"onPress"],[80,2,54,62],[80,3,54,63],[80,5,54,65],[81,4,54,65,"_s2"],[81,7,54,65],[82,4,55,2],[82,10,55,8],[83,6,55,10,"status"],[84,4,55,17],[84,5,55,18],[84,8,55,21,"useHealthStatus"],[84,23,55,36],[84,24,55,37],[84,25,55,38],[85,4,56,2],[85,10,56,8,"color"],[85,15,56,13],[85,18,56,16,"STATUS_COLORS"],[85,31,56,29],[85,32,56,30,"status"],[85,38,56,36],[85,39,56,37,"overall"],[85,46,56,44],[85,47,56,45],[85,51,56,49],[85,57,56,55],[86,4,58,2],[86,24,59,4],[86,28,59,4,"_reactJsxDevRuntime"],[86,47,59,4],[86,48,59,4,"jsxDEV"],[86,54,59,4],[86,56,59,5,"TouchableOpacity"],[86,72,59,21],[86,73,59,21,"default"],[86,80,59,21],[87,6,60,6,"onPress"],[87,13,60,13],[87,15,60,15,"onPress"],[87,22,60,23],[88,6,61,6,"style"],[88,11,61,11],[88,13,61,13,"dotStyles"],[88,22,61,22],[88,23,61,23,"container"],[88,32,61,33],[89,6,62,6],[89,21,62,18],[89,33,62,30],[90,6,63,6,"activeOpacity"],[90,19,63,19],[90,21,63,21],[90,24,63,25],[91,6,63,25,"children"],[91,14,63,25],[91,30,65,6],[91,34,65,6,"_reactJsxDevRuntime"],[91,53,65,6],[91,54,65,6,"jsxDEV"],[91,60,65,6],[91,62,65,7,"View"],[91,66,65,11],[91,67,65,11,"default"],[91,74,65,11],[92,8,65,12,"style"],[92,13,65,17],[92,15,65,19],[92,16,65,20,"dotStyles"],[92,25,65,29],[92,26,65,30,"dot"],[92,29,65,33],[92,31,65,35],[93,10,65,37,"backgroundColor"],[93,25,65,52],[93,27,65,54,"color"],[94,8,65,60],[94,9,65,61],[95,6,65,63],[96,8,65,63,"fileName"],[96,16,65,63],[96,18,65,63,"_jsxFileName"],[96,30,65,63],[97,8,65,63,"lineNumber"],[97,18,65,63],[98,8,65,63,"columnNumber"],[98,20,65,63],[99,6,65,63],[99,13,65,65],[99,14,65,66],[99,29,66,6],[99,33,66,6,"_reactJsxDevRuntime"],[99,52,66,6],[99,53,66,6,"jsxDEV"],[99,59,66,6],[99,61,66,7,"View"],[99,65,66,11],[99,66,66,11,"default"],[99,73,66,11],[100,8,66,12,"style"],[100,13,66,17],[100,15,66,19],[100,16,66,20,"dotStyles"],[100,25,66,29],[100,26,66,30,"ring"],[100,30,66,34],[100,32,66,36],[101,10,66,38,"borderColor"],[101,21,66,49],[101,23,66,51,"color"],[102,8,66,57],[102,9,66,58],[103,6,66,60],[104,8,66,60,"fileName"],[104,16,66,60],[104,18,66,60,"_jsxFileName"],[104,30,66,60],[105,8,66,60,"lineNumber"],[105,18,66,60],[106,8,66,60,"columnNumber"],[106,20,66,60],[107,6,66,60],[107,13,66,62],[107,14,66,63],[108,4,66,63],[109,6,66,63,"fileName"],[109,14,66,63],[109,16,66,63,"_jsxFileName"],[109,28,66,63],[110,6,66,63,"lineNumber"],[110,16,66,63],[111,6,66,63,"columnNumber"],[111,18,66,63],[112,4,66,63],[112,11,67,22],[112,12,67,23],[113,2,69,0],[114,2,69,1,"_s2"],[114,5,69,1],[114,6,54,16,"StatusDot"],[114,15,54,25],[115,4,54,25],[115,12,55,21,"useHealthStatus"],[115,27,55,36],[116,2,55,36],[117,2,55,36,"_c"],[117,4,55,36],[117,7,54,16,"StatusDot"],[117,16,54,25],[118,2,71,0],[118,8,71,6,"dotStyles"],[118,17,71,15],[118,20,71,18,"StyleSheet"],[118,30,71,28],[118,31,71,28,"default"],[118,38,71,28],[118,39,71,29,"create"],[118,45,71,35],[118,46,71,36],[119,4,72,2,"container"],[119,13,72,11],[119,15,72,13],[120,6,72,15,"width"],[120,11,72,20],[120,13,72,22],[120,15,72,24],[121,6,72,26,"height"],[121,12,72,32],[121,14,72,34],[121,16,72,36],[122,6,72,38,"justifyContent"],[122,20,72,52],[122,22,72,54],[122,30,72,62],[123,6,72,64,"alignItems"],[123,16,72,74],[123,18,72,76],[124,4,72,85],[124,5,72,86],[125,4,73,2,"dot"],[125,7,73,5],[125,9,73,7],[126,6,73,9,"width"],[126,11,73,14],[126,13,73,16],[126,14,73,17],[127,6,73,19,"height"],[127,12,73,25],[127,14,73,27],[127,15,73,28],[128,6,73,30,"borderRadius"],[128,18,73,42],[128,20,73,44],[128,21,73,45],[129,6,73,47,"position"],[129,14,73,55],[129,16,73,57],[130,4,73,68],[130,5,73,69],[131,4,74,2,"ring"],[131,8,74,6],[131,10,74,8],[132,6,74,10,"width"],[132,11,74,15],[132,13,74,17],[132,15,74,19],[133,6,74,21,"height"],[133,12,74,27],[133,14,74,29],[133,16,74,31],[134,6,74,33,"borderRadius"],[134,18,74,45],[134,20,74,47],[134,21,74,48],[135,6,74,50,"borderWidth"],[135,17,74,61],[135,19,74,63],[135,22,74,66],[136,6,74,68,"opacity"],[136,13,74,75],[136,15,74,77],[137,4,74,81],[138,2,75,0],[138,3,75,1],[138,4,75,2],[139,2,75,3],[139,6,75,3,"_c"],[139,8,75,3],[140,2,75,3,"$RefreshReg$"],[140,14,75,3],[140,15,75,3,"_c"],[140,17,75,3],[141,0,75,3],[141,3]],"functionMap":{"names":["<global>","useHealthStatus","checkHealth","setStatus$argument_0","useEffect$argument_0","<anonymous>","StatusDot"],"mappings":"AAA;OCiB;kCCM;kBCO,2DD;gBCG,mDD;GDE;YGE;WCG,6BD;GHC;CDG;OMS;CNe"},"hasCjsExports":false},"type":"js/module"}]}